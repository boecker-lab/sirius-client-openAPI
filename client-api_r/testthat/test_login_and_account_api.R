# Automatically generated by openapi-generator (https://openapi-generator.tech)
# Please update as you see appropriate

context("Test LoginAndAccountApi")

user <- toString(Sys.getenv('SIRIUS_USER'))
pw <- toString(Sys.getenv('SIRIUS_PW'))
api_instance <- LoginAndAccountApi$new()

test_that("GetAccountInfo", {
  # tests for GetAccountInfo
  # base path: http://localhost:8080
  # Get information about the account currently logged in.
  # Get information about the account currently logged in. Fails if not logged in.
  # @param include_subs character include available and active subscriptions in {@link AccountInfo AccountInfo}. (optional)
  # @return [AccountInfo]
  
  if (!api_instance$IsLoggedIn()) {
    api_instance$Login(TRUE, AccountCredentials$new(user, pw), TRUE, TRUE)
  }
  resp <- api_instance$GetAccountInfo(TRUE)

  expect_equal(resp$username, user)
  expect_equal(is.character(resp$subscriptions[[1]]$sid), TRUE)
})

test_that("GetSignUpURL", {
  # tests for GetSignUpURL
  # base path: http://localhost:8080
  # Get SignUp URL (For signUp via web browser)
  # Get SignUp URL (For signUp via web browser)
  # @return [character]

  resp <- api_instance$GetSignUpURL()
  
  expect_equal(is.character(resp), TRUE)
})

test_that("GetSubscriptions", {
  # tests for GetSubscriptions
  # base path: http://localhost:8080
  # Get available subscriptions of the account currently logged in.
  # Get available subscriptions of the account currently logged in. Fails if not logged in.
  # @return [array[Subscription]]

  if (!api_instance$IsLoggedIn()) {
    api_instance$Login(TRUE, AccountCredentials$new(user, pw), TRUE, TRUE)
  }
  resp <- api_instance$GetSubscriptions()

  expect_equal(is.character(resp[[1]]$sid), TRUE)
})

test_that("IsLoggedIn", {
  # tests for IsLoggedIn
  # base path: http://localhost:8080
  # Check if a user is logged in.
  # Check if a user is logged in.
  # @return [character]

  resp <- api_instance$IsLoggedIn()

  expect_equal(is.logical(resp), TRUE)
})

test_that("Login", {
  # tests for Login
  # base path: http://localhost:8080
  # Login into SIRIUS web services.
  # Login into SIRIUS web services.
  # @param accept_terms character 
  # @param account_credentials AccountCredentials used to log in.
  # @param fail_when_logged_in character if true request fails if an active login already exists. (optional)
  # @param include_subs character include available and active subscriptions in {@link AccountInfo AccountInfo}. (optional)
  # @return [AccountInfo]

  # uncomment below to test the operation
  #expect_equal(result, "EXPECTED_RESULT")
})

test_that("Logout", {
  # tests for Logout
  # base path: http://localhost:8080
  # Logout from SIRIUS web services.
  # Logout from SIRIUS web services.
  # @return [Void]

  resp <- api_instance$Logout()
  
  expect_equal(resp, NULL)
})

test_that("SignUp", {
  # tests for SignUp
  # base path: http://localhost:8080
  # Open SignUp window in system browser and return signUp link.
  # Open SignUp window in system browser and return signUp link.
  # @return [character]

  # uncomment below to test the operation
  #expect_equal(result, "EXPECTED_RESULT")
})
